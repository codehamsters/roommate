<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Let's Get Started!</title>

    <link rel="stylesheet" href="../static/css/style.css">
    <link rel="stylesheet" href="../static/css/auth.css">
    <script src="https://unpkg.com/htmx.org@1.8.4" integrity="sha384-wg5Y/JwF7VxGk4zLsJEcAojRtlVp1FKKdGy1qN+OMtdq72WRvX/EdRdqg/LOhYeV" crossorigin="anonymous"></script>


</head>
<body>
    <div id="underlay">
        <div id="workspace">
            <div class="left">
                <div id="tabgroup">
                    <button id="register-tab-btn" class="active">Register</button>
                    <button id="login-tab-btn">Log in</button>
                </div>
                <div id="form-container">


                    <form id="registration-form" method="POST" action="register">
                        {% csrf_token %}
                        <div class="fields">
                            <section class="form-desc">
                                Not yet registered on Roommate? Enter your credentials, and we will create an account for you!
                            </section>
                            <div class="email input-box" >
                                <input type="email" placeholder="Email" name="email" autofocus hx-post="{% url 'check_email' %}" hx-target="#email-check" hx-trigger="keyup"/>
                            </div>
                            <div id="email-check"></div>
                            <div class="input-box username"  >
                                <input type="text" placeholder="Username" name="username" autofocus hx-post="{% url 'check_username' %}" hx-target="#username-check" hx-trigger="keyup" />
                            </div>
                            <div id="username-check"></div>
                            <div class="input-box password">
                                <input type="password" placeholder="Password" name="password"/>
                            </div>
                            <label class="show-password-txt">Show Password</label>
                        </div>

                        <div class="btn-group">
                            <button type="submit">Register</button>
                        </div>
                    </form>

                    <form id="login-form" class="inactive" method="POST" action="login">
                        {% csrf_token %}
                        <div class="fields">
                            <section class="form-desc">
                                We're so excited to see you again! Enter your credentials, and we will log you in swiftly!
                            </section>
                            <div class="input-box username">
                                <input type="text" placeholder="Username" name="logusername" autofocus/>
                                <div class="invalidity-indicator"><div class="rel"><div class="message">An error occured due to an unknonwn reason bla bla bla!</div></div>i</div>
                            </div>
                            <div class="input-box password">
                                <input type="password" placeholder="Password" name="logpassword"/>
                            </div>
                            <label class="show-password-txt">Show Password</label>
                            {% for message in messages %}
                            {% if message.tags == 'warning' %}
                            <h6>{{message}} </h6>
                            {% endif %}
                            {% endfor %}
                        </div>

                        <div class="btn-group">
                            <button type="submit">Log in</button>
                        </div>
                    </form>


                </div>
            </div>
            <div class="right"></div>
        </div>
    </div>
    <script src="https://kit.fontawesome.com/1857912463.js" crossorigin="anonymous"></script>
    <script src="../static/js/auth-manager.js"></script>
</body>
</html>